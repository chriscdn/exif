!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("exifr"),require("luxon"),require("tz-lookup")):"function"==typeof define&&define.amd?define(["exifr","luxon","tz-lookup"],t):(e||self).exif=t(e.exifr,e.luxon,e.tzLookup)}(this,function(e,t,n){function i(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var l=/*#__PURE__*/i(e),o=/*#__PURE__*/i(n),u=l.default.parse;return function(e){try{var n={latitude:null,longitude:null,timeZone:null,localTime:null,timestamp:null,timeZoneOffsetInMinutes:null,description:null,width:0,height:0,isPrecise:!1};return Promise.resolve(u(e,!0)).then(function(i){var l,u,r,f,a,s,d;n.latitude=null!=(l=i.latitude)?l:null,n.longitude=null!=(u=i.longitude)?u:null,n.latitude&&n.longitude&&(n.timeZone=o.default(n.latitude,n.longitude));var h=null!=(r=i.ImageDescription)?r:null;n.description=h?String(h).trim():null;var c,m,g,p=null!=(f=i.DateTimeOriginal)?f:null,v=null!=(a=i.OffsetTimeOriginal)?a:null;if((g=p)instanceof Date||"object"==typeof g&&"[object Date]"===Object.prototype.toString.call(g)){var w=n.timeZone,y=v?(c=v.split(":"),-(60*(m=parseInt(c[0]))+(m>0?1:-1)*parseInt(c[1]))):null;n.isPrecise=Boolean(w)||Boolean(y);var x=t.DateTime.utc(p.getFullYear(),p.getMonth()+1,p.getDate(),p.getHours(),p.getMinutes(),p.getSeconds()).plus({minutes:null!=y?y:void 0}).setZone(null!=w?w:void 0,{keepLocalTime:void 0===y});n.timestamp=x.toMillis(),n.timeZoneOffsetInMinutes=y?-y:x.offset,n.localTime=x.toFormat("yyyy-MM-dd'T'HH:mm:ss")}n.width=null!=(s=i.ExifImageWidth)?s:null,n.height=null!=(d=i.ExifImageHeight)?d:null;var b=function(){if(!n.width&&!n.height){var t=function(){if("string"==typeof e)return Promise.resolve(import("probe-image-size")).then(function(t){return Promise.resolve((0,t.default)(e)).then(function(e){null!=e&&e.width&&null!=e&&e.height&&(n.width=e.width,n.height=e.height)})});var t=function(){if(window&&"string"!=typeof e)return Promise.resolve(function(e){try{return Promise.resolve(new Promise(function(t){var n=window.URL||window.webkitURL,i=new Image;i.onload=function(){t({width:i.width,height:i.height})},i.src=n.createObjectURL(e)}))}catch(e){return Promise.reject(e)}}(e)).then(function(e){n.width=e.width,n.height=e.height})}();return t&&t.then?t.then(function(){}):void 0}();if(t&&t.then)return t.then(function(){})}}();return b&&b.then?b.then(function(){return n}):n})}catch(e){return Promise.reject(e)}}});
//# sourceMappingURL=exif.umd.js.map
